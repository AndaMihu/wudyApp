<div class="st-heading">
<h1>Students list</h1>
<!--<h3>Tip: use the filters to make your search faster and easier </h3>-->
</div>

<% if teacher_signed_in? && @students.empty? %>
<h2> You have no students assigned yet </h2>
<% end %> 

<% if company_user_signed_in? && @intern.empty? %>
<h2> You have no interns assigned yet </h2>

<% end %><br>

<div id="students-list">
<table>
  <tr class="cl-title">
    <th>Name</th>
    <th>Email</th>
    <th>University</th>
    <th>Study programme</th>
    <th> Meetings </th>
  </tr>

<% if teacher_signed_in? %>

<% @students.each do |student| %>
    <tr>
     <% if student.name.nil? %>
         <td> - </td>
        <% else %>
        <td class="st-name"><%= link_to student.name, student %> </td>
        <% end %>

        <td> <%= student.email %></td>

        <% if student.programme_id.nil? %>
         <td> - </td>
        <% else %>
          <td> <%= student.programme.name %></td>
        <% end %>
       
          <% if student.company.nil? %>
         <td> - </td>
        <% else %>
          <td> <%= student.company.name %></td>
        <% end %>


        <% if student.event.nil? %>
          <td> not meetings yet </td>
        <% else %>
         <td> <%= student.event.ids.count %></td>
        <% end %>

        
    </tr>
    <% end %>
  </table>

  <% else company_user_signed_in? %>

<% if @interns.empty? %>
<p> You have no interns yet </p>
<% else %>
<% @interns.each do |intern| %>
    <tr>
     <% if intern.student.name.nil? %>
         <td> - </td>
        <% else %>
        <td class="st-name"><%= link_to intern.student.name, intern.student %> </td>
        <% end %>

        <td> <%= intern.student.email %></td>
        <td>KEA-Copenhagen School of Design and Technology</td>
        <% if intern.student.programme_id.nil? %>
         <td> - </td>
        <% else %>
          <td> <%= intern.student.programme.name %></td>
        <% end %>
      

    <% @position.each do |p| %>
            <td> <%= p.name %> </td>
    <% end %> 

        
    </tr>
    <% end %>
</table>
<% end %>
<% end %>
</div>